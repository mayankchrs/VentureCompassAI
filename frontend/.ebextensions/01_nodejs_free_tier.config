option_settings:
  aws:elasticbeanstalk:container:nodejs:
    NodeCommand: "npm start"
    NodeVersion: 18.17.0
  # FREE TIER OPTIMIZATION - t2.micro instance
  aws:autoscaling:launchconfiguration:
    InstanceType: t2.micro
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role
  # Single instance to minimize costs
  aws:autoscaling:asg:
    MinSize: 1
    MaxSize: 1
  # Single instance environment (no load balancer)
  aws:elasticbeanstalk:environment:
    EnvironmentType: SingleInstance
  # Basic health reporting to save costs
  aws:elasticbeanstalk:healthreporting:system:
    SystemType: basic
  # Port configuration for Next.js
  aws:elasticbeanstalk:application:environment:
    PORT: "8080"
    NODE_ENV: "production"